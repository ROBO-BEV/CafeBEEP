{% extends "base.html" %}
{% block body %}
{% include "navbar.html" %}
    <script>
    // Find output DOM associated to the DOM element passed as parameter
        function findOutputForSlider( element ) {
           var idVal = element.id;
           outputs = document.getElementsByTagName( 'output' );
           for( var i = 0; i < outputs.length; i++ ) {
             if ( outputs[ i ].htmlFor == idVal )
               return outputs[ i ];
           }
        }

        function getSliderOutputPosition( slider ) {
          // Update output position
          var newPlace,
              minValue;

          var style = window.getComputedStyle( slider, null );
          // Measure width of range input
          sliderWidth = parseInt( style.getPropertyValue( 'width' ), 10 );

          // Figure out placement percentage between left and right of input
          if ( !slider.getAttribute( 'min' ) ) {
            minValue = 0;
          } else {
            minValue = slider.getAttribute( 'min' );
          }
          var newPoint = ( slider.value - minValue ) / ( slider.getAttribute( 'max' ) - minValue );

          // Prevent bubble from going beyond left or right (unsupported browsers)
          if ( newPoint < 0 ) {
            newPlace = 0;
          } else if ( newPoint > 1 ) {
            newPlace = sliderWidth;
          } else {
            newPlace = sliderWidth * newPoint;
          }

          return {
            'position': newPlace + 'px'
          }
        }

        document.addEventListener( 'DOMContentLoaded', function () {
          // Get all document sliders
          var sliders = document.querySelectorAll( 'input[type="range"].slider' );
          [].forEach.call( sliders, function ( slider ) {
            var output = findOutputForSlider( slider );
            if ( output ) {
              if ( slider.classList.contains( 'has-output-tooltip' ) ) {
                // Get new output position
                var newPosition = getSliderOutputPosition( slider );

                // Set output position
                output.style[ 'left' ] = newPosition.position;
              }

              // Add event listener to update output when slider value change
              slider.addEventListener( 'input', function( event ) {
                if ( event.target.classList.contains( 'has-output-tooltip' ) ) {
                  // Get new output position
                  var newPosition = getSliderOutputPosition( event.target );

                  // Set output position
                  output.style[ 'left' ] = newPosition.position;
                }

                // Update output with slider value
                output.value = event.target.value;
              } );
            }
          } );
        } );
    </script>
    <main class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-3 is-narrow is-sidebar">
                     <figure class="image is-2by2">
                         <img src="../static/images/CustomCup.png">
                    </figure>
                </div>
                <div class="column is-9">
                    <div class="columns is-multiline is-mobile">
                      <div class="column is-one-quarter has-text-centered has-text-primary">
                        <p class="title has-text-centered has-text-primary">Creamer</p>
                      </div>
                      <div class="column is-three-quarters">
                        <input id="sliderWithValueCreamer" class="slider has-output is-fullwidth" min="0" max="100" value="50" step="1" type="range">
                          <output for="sliderWithValueCreamer">50</output>
                      </div>
                      <div class="column is-one-quarter has-text-centered has-text-primary">
                        <p class="title has-text-centered has-text-primary">Base</p>
                      </div>
                      <div class="column is-three-quarters">
                        <input id="sliderWithValueBase" class="slider has-output is-fullwidth" min="0" max="100" value="50" step="1" type="range">
                          <output for="sliderWithValueBase">50</output>
                      </div>
                        <div class="column is-6 is-centered">
                              <form action = "phonepage" method = "post">
                                <input class ="button is-medium is-info" type = "submit" value = "Back" />
                              </form>
                        </div>
                        <div class="column is-6 is-centered">
                              <form action = "phonepage" method = "post">
                                <input class ="button is-medium is-primary" type = "submit" value = "Confirm" />
                              </form>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
{% endblock %}